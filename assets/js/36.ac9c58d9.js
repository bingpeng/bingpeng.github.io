(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{436:function(a,s,e){"use strict";e.r(s);var t=e(2),r=Object(t.a)({},(function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("Boxx"),a._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#参考"}},[a._v("参考")])]),e("li",[e("a",{attrs:{href:"#文件准备"}},[a._v("文件准备")])]),e("li",[e("a",{attrs:{href:"#软件信息"}},[a._v("软件信息")])]),e("li",[e("a",{attrs:{href:"#基因组共线性比对"}},[a._v("基因组共线性比对")]),e("ul",[e("li",[e("a",{attrs:{href:"#转换gff文件"}},[a._v("转换gff文件")])]),e("li",[e("a",{attrs:{href:"#序列比对"}},[a._v("序列比对")])]),e("li",[e("a",{attrs:{href:"#共线性绘图"}},[a._v("共线性绘图")])]),e("li",[e("a",{attrs:{href:"#特定共线性区块着色"}},[a._v("特定共线性区块着色")])])])]),e("li",[e("a",{attrs:{href:"#局部区域-gene-level-共线性"}},[a._v("局部区域(gene-level)共线性")])])])]),e("p"),a._v(" "),e("h2",{attrs:{id:"参考"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[a._v("#")]),a._v(" 参考")]),a._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/tanghaibao/jcvi/wiki/MCscan-(Python-version)",target:"_blank",rel:"noopener noreferrer"}},[a._v("作者github"),e("OutboundLink")],1),a._v(" "),e("a",{attrs:{href:"https://xuzhougeng.top/archives/Comparative-genomics-using-JCVI-part-one",target:"_blank",rel:"noopener noreferrer"}},[a._v("网络教程"),e("OutboundLink")],1)]),a._v(" "),e("h2",{attrs:{id:"文件准备"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#文件准备"}},[a._v("#")]),a._v(" 文件准备")]),a._v(" "),e("ul",[e("li",[a._v("gff文件")]),a._v(" "),e("li",[a._v("cds文件或者蛋白文件\ngff提供了基因的位置信息，cds或者蛋白用来进行比对，根据cds或者蛋白的比对结果进行位置上的锚定")])]),a._v(" "),e("h2",{attrs:{id:"软件信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#软件信息"}},[a._v("#")]),a._v(" 软件信息")]),a._v(" "),e("p",[a._v("软件版本 ： jcvi:v1.1.17-beta\n安装方法见作者github")]),a._v(" "),e("h2",{attrs:{id:"基因组共线性比对"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基因组共线性比对"}},[a._v("#")]),a._v(" 基因组共线性比对")]),a._v(" "),e("h3",{attrs:{id:"转换gff文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#转换gff文件"}},[a._v("#")]),a._v(" 转换gff文件")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("python3 -m jcvi.formats.gff bed --type=mRNA --key=ID unk.gff > unk.bed\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("type为gff格式第三列，代表去见对应的特征类型，key为该转录本的名称属性，该名称的值应该与cds或者蛋白名称对应。")]),a._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",[a._v("if isoforms are excessive, we suggest adding one option --primary_only to the BED generation command above")])]),a._v(" "),e("h3",{attrs:{id:"序列比对"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#序列比对"}},[a._v("#")]),a._v(" 序列比对")]),a._v(" "),e("p",[a._v("cds 比对")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("python3 -m jcvi.compara.catalog ortholog --no_strip_names unk unk2\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("或 蛋白比对")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("python3 -m jcvi.compara.catalog ortholog --dbtype prot --no_strip_names unk unk2\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("div",{staticClass:"custom-block tip"},[e("p",[a._v("命名为unk.cds、unk.bed，jcvi会自动寻找目录下对应文件")])]),a._v(" "),e("p",[a._v("如果想拿到1:1的同源区域，可以设置较高的C-score来获得best blast hit")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("rm unk.unk2.last.filtered \npython3 -m jcvi.compara.catalog ortholog unk unk2 --cscore=.99 --no_strip_names\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("p",[a._v("此时可以拿到一个点图和如下文件：")]),a._v(" "),e("ul",[e("li",[a._v("unk.unk2.last: 基于LAST的比对结果")]),a._v(" "),e("li",[a._v("unk.unk2.last.filtered: LAST的比对结果过滤串联重复和低分比对")]),a._v(" "),e("li",[a._v("unk.unk2.anchors: 高质量的共线性区块")]),a._v(" "),e("li",[a._v("unk.unk2.lifted.anchors:增加了额外的锚点，形成最终的共线性区块")])]),a._v(" "),e("p",[a._v("每个共线性区块以###进行分隔, 第一列是检索的基因，第二列是被检索的基因，第三列则是两个序列的BLAST的score。")]),a._v(" "),e("p",[e("img",{attrs:{src:"/img/jcvi/dotplot.png",alt:"avatar"}})]),a._v(" "),e("h3",{attrs:{id:"共线性绘图"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#共线性绘图"}},[a._v("#")]),a._v(" 共线性绘图")]),a._v(" "),e("p",[a._v("根据anchors生成绘图所需的simple文件")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("python3 -m jcvi.compara.synteny screen --minspan=30 --simple unk.unk2.anchors unk.unk2.anchors.new\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("ul",[e("li",[a._v("seqids: 需要展现哪些序列")]),a._v(" "),e("li",[a._v("layout: 不同物种的在图上的位置")]),a._v(" "),e("li",[a._v(".simple: 从.anchors文件创建的简化格式,.simple文件中的每一行都是一个共线性块，物种1的基因起始终止，然后是物种2的基因起始终止，最后两列是 score 和orientation")])]),a._v(" "),e("p",[a._v("seqids:")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("chr1-1,chr1-2,chr1-3,chr1-4,chr2-1,chr2-2,chr2-3,chr2-4,chr3-1,chr3-2,chr3-3,chr3-4,chr4-1,chr4-2,chr4-3,chr4-4,chr5-1,chr5-2,chr5-3,chr5-4,chr6-1,chr6-2,chr6-3,chr6-4,chr7-1,chr7-2,chr7-3,chr7-4\nFvb1,Fvb2,Fvb3,Fvb4,Fvb5,Fvb6,Fvb7\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("p",[a._v("layout:")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("# y, xstart, xend, rotation, color, label, va,  bed\n .6,     .2,    .9,       0,      , Fragaria_x_ananassa , top, Fragaria_x_ananassa.bed\n .4,     .4,    .6,       0,      , Fragaria_vesca , bottom, Fragaria_vesca.bed\n# edges\ne, 0, 1, Fragaria_x_ananassa.Fragaria_vesca.anchors.simple\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br")])]),e("p",[a._v("最终绘图")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("python3 -m jcvi.graphics.karyotype seqids layout\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:"/img/jcvi/karyotype.png",alt:"avatar"}})]),a._v(" "),e("h3",{attrs:{id:"特定共线性区块着色"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#特定共线性区块着色"}},[a._v("#")]),a._v(" 特定共线性区块着色")]),a._v(" "),e("p",[a._v("编辑.simple文件，.simple文件中每一行都是一个共线性区块，可以指定某个区块颜色（g*为绿色）")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("Fx0845400.1     Fx0832250.1     FvH4_1g00010.1  FvH4_1g15170.1  1412    +\ng*Fx0832230.1   Fx0825230.1     FvH4_1g15420.1  FvH4_1g23510.1  753     +\nFx0820770.1     Fx0820240.1     FvH4_1g27990.1  FvH4_1g28580.1  56      -\nFx0820200.1     Fx0819070.1     FvH4_1g28600.1  FvH4_1g29420.1  97      -\ng*Fx0819080.1   Fx0818340.1     FvH4_1g29790.1  FvH4_1g30420.1  69      +\nFx0727270.1     Fx0701540.1     FvH4_1g00010.1  FvH4_1g27480.1  2659    +\nr*Fx0697480.1   Fx0696510.1     FvH4_1g27870.1  FvH4_1g28430.1  74      -\n   \n...\n(save the file)\npython3 -m jcvi.graphics.karyotype seqids layout\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br")])]),e("p",[e("img",{attrs:{src:"/img/jcvi/karyotype_color.png",alt:"avatar"}})]),a._v(" "),e("h2",{attrs:{id:"局部区域-gene-level-共线性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#局部区域-gene-level-共线性"}},[a._v("#")]),a._v(" 局部区域(gene-level)共线性")]),a._v(" "),e("p",[a._v("获取block文件,其中--iter代表有多少个match")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("python3 -m jcvi.compara.synteny mcscan Fragaria_vesca.bed Fragaria_x_ananassa.Fragaria_vesca.lifted.anchors --iter=1 -o Fragaria_x_ananassa.Fragaria_vesca.i1.blocks\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("选取需要绘制的block")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("head  -n 50 Fragaria_x_ananassa.Fragaria_vesca.i1.blocks > blocks\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("编写布局文件blocks.layout")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("# x,   y, rotation,   ha,     va,   color, ratio,            label\n0.5, 0.6,        0, left, center,       m,     1,\tFragaria_x_ananassa\n0.5, 0.4,        0, left, center, #fc8d62,     1,\tFragaria_vesca\n# edges\ne, 0, 1\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br")])]),e("p",[a._v("绘制基因水平共线性")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("cat Fragaria_x_ananassa.bed Fragaria_vesca.bed > Fragaria_x_ananassa.Fragaria_vesca.bed\npython3 -m jcvi.graphics.synteny blocks Fragaria_x_ananassa.Fragaria_vesca.bed blocks.layout\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("p",[e("img",{attrs:{src:"/img/jcvi/block.png",alt:"avatar"}})])],1)}),[],!1,null,null,null);s.default=r.exports}}]);