(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{448:function(s,a,t){"use strict";t.r(a);var n=t(2),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("Boxx"),s._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#参考"}},[s._v("参考")])]),t("li",[t("a",{attrs:{href:"#简介"}},[s._v("简介")])]),t("li",[t("a",{attrs:{href:"#安装"}},[s._v("安装")])]),t("li",[t("a",{attrs:{href:"#文件配置"}},[s._v("文件配置")]),t("ul",[t("li",[t("a",{attrs:{href:"#服务端"}},[s._v("服务端")])]),t("li",[t("a",{attrs:{href:"#客户端"}},[s._v("客户端")])]),t("li",[t("a",{attrs:{href:"#systemctl启动"}},[s._v("systemctl启动")])])])])])]),t("p"),s._v(" "),t("h2",{attrs:{id:"参考"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[s._v("#")]),s._v(" 参考")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://developer.aliyun.com/article/853534",target:"_blank",rel:"noopener noreferrer"}},[s._v("一文搞懂frp内网穿透并搭建配置使用"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[s._v("#")]),s._v(" 简介")]),s._v(" "),t("p",[s._v("frp 是一个专注于内网穿透的高性能的反向代理应用，支持 TCP、UDP、HTTP、HTTPS 等多种协议。可以将内网服务以安全、便捷的方式通过具有公网 IP 节点的中转暴露到公网。")]),s._v(" "),t("h2",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),t("p",[s._v("下载软件")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("wget https://github.com/fatedier/frp/releases/download/v0.38.0/frp_0.38.0_linux_amd64.tar.gz\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("文件说明：")]),s._v(" "),t("ul",[t("li",[s._v("frps.ini: 服务端配置文件")]),s._v(" "),t("li",[s._v("frps: 服务端软件")]),s._v(" "),t("li",[s._v("frpc.ini: 客户端配置文件")]),s._v(" "),t("li",[s._v("frpc: 客户端软件")])]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",[s._v("实现内网穿需要有一台公网服务器、域名。\n公网服务器称为服务端，内网服务器称为客户端")])]),s._v(" "),t("h2",{attrs:{id:"文件配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文件配置"}},[s._v("#")]),s._v(" 文件配置")]),s._v(" "),t("h3",{attrs:{id:"服务端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务端"}},[s._v("#")]),s._v(" 服务端")]),s._v(" "),t("p",[s._v("修改frps.ini")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[common] #必须设置\nbind_port = 7000 #是自己设定的frp服务端端口\nvhost_http_port = 80 #是自己设定的http访问端口\ntoken = 123  #核实身份用，加了更安全\n\n[ssh] #ssh反向代理(不是必须设置)\nlisten_port = 6000 是自己设定的ssh访问端口\n\n[web] #http反向代理[]里的内容可以自己设定，但是客户端和服务端必须要对应(如[aaa],[bbb])；\ntype = http #为服务类型，可以设为http,https\ncustom_domains = test1.a.com #为要映射的域名，记得域名的A记录要解析到外网主机的IP。\n\n[web2] #同上(可设置多个)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("p",[s._v("启动")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("./frps -c ./frps.ini\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"客户端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#客户端"}},[s._v("#")]),s._v(" 客户端")]),s._v(" "),t("p",[s._v("修改frpc.ini")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[common]\nserver_addr = 远程frp服务器ip\nserver_port = 远程frp服务器端口\ntoken = 远程frp服务器token\n\n[http]\ntype = http\nlocal_ip = 127.0.0.1\nlocal_port = 本地端口号\nremote_port = 远程frp服务器的http服务端口号\ncustom_domains = 自定义配置的域名\nsubdomain = 匹配服务端配置的subdomain_host\n\n[ssh_test001]\ntype = tcp\nlocal_ip = 127.0.0.1\nlocal_port = 22\nremote_port = 1111\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])]),t("h3",{attrs:{id:"systemctl启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#systemctl启动"}},[s._v("#")]),s._v(" systemctl启动")]),s._v(" "),t("p",[s._v("使用 systemctl 控制 frp")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("vim /usr/lib/systemd/system/frp.service\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("写入以下内容，注意软件路径和此处有关。这里是启动的客户端")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[Unit]\nDescription=frpc daemon\n\n[Service]\nType=simple\nExecStart=/home/pengbing/frp/frpc -c /home/pengbing/frp/frpc.ini\nRestart=always\nRestartSec=20s\n\n[Install]\nWantedBy=multi-user.target\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("启动/停止/重启，查看状态，设置开机自启/关闭开机自启")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("systemctl start frp\nsystemctl stop frp\nsystemctl restart frp\nsystemctl status frp\nsystemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" frp\nsystemctl disable frp\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])])],1)}),[],!1,null,null,null);a.default=e.exports}}]);